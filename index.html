<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bad Peach – Calories & Protein Calculator</title>
  <meta name="description" content="See your daily calories and protein targets, then turn them into simple meals and strength sessions that fit your life." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --black:#191919;
      --blush:#ebcac2;
      --blush-light:#f7e9e6;
      --cream:#fffefc;
      --error:#c62828;
      --ok:#1b7f42;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--cream);color:var(--black)}
    body{font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.65;font-size:17px}
    h1,h2,h3,h4{font-family:"Times New Roman",Times,serif;letter-spacing:.02em}
    .caps{text-transform:uppercase;letter-spacing:.06em}
    @media (max-width:680px){.h2-mobile-sm{font-size:20px}}
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    .grid{display:grid;gap:24px}
    .grid-2{grid-template-columns:1fr}
    @media (min-width:980px){.grid-2{grid-template-columns:1.15fr .85fr}}
    .card{background:#fff;border:1px solid rgba(25,25,25,.08);border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.04)}
    .on-blush{background:var(--blush)}
    .on-cream{background:var(--cream);color:var(--black)}
    .on-blush-light{background:var(--blush-light)}
    .note{font-size:13px;opacity:.85}
    .btn{display:inline-block;border:none;cursor:pointer;text-decoration:none;padding:10px 16px;border-radius:8px;font-weight:600;font-family:"Inter",system-ui,sans-serif;font-size:12px;letter-spacing:.06em;text-transform:uppercase;transition:transform .04s ease, box-shadow .2s ease;white-space:nowrap}
    .btn-dark{background:var(--black);color:var(--cream);box-shadow:0 2px 0 rgba(0,0,0,.22)}
    .btn-cream{background:var(--cream);color:var(--black);box-shadow:0 2px 0 rgba(0,0,0,.10)}
    .btn:hover{transform:translateY(-1px)}
    .btn-xs{font-size:11px;padding:8px 12px;border-radius:6px}
    header.hero{background:linear-gradient(0deg, rgba(235,202,194,.22), rgba(235,202,194,.22)), var(--cream);border-bottom:1px solid rgba(25,25,25,.08)}
    .hero-inner{display:grid;gap:24px;align-items:center}
    .hero-subline{text-align:left;font-size:11px;margin:-2px 0 8px;opacity:.75}
    @media (max-width:680px){.hero-subline{font-size:12px}}
    .form-grid{display:grid;gap:14px}
    .form-2{grid-template-columns:1fr}
    @media (min-width:780px){.form-2{grid-template-columns:1fr 1fr}}
    label{font-weight:700;letter-spacing:.04em;text-transform:uppercase;font-size:12px}
    input,select{width:100%;height:48px;padding:12px;border:1px solid rgba(25,25,25,.2);border-radius:10px;background:#fff;font-size:16px;line-height:24px;outline:none;transition:border-color .2s ease,box-shadow .2s ease}
    input:focus,select:focus{border-color:#9c6;box-shadow:0 0 0 3px rgba(153,204,102,.15)}
    .inline{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .field{position:relative}
    .results{display:none}
    .result-box{background:#fff;border:2px solid var(--blush);border-radius:14px;padding:18px}
    .result-number{font-size:30px;font-weight:800;font-family:"Inter",system-ui,sans-serif}
    .result-cta{margin-top:10px}
    .sticky-cta{position:fixed;left:0;right:0;bottom:0;z-index:9999;background:rgba(25,25,25,.96);color:#fff;padding:10px 14px;display:none;align-items:center;justify-content:space-between;gap:10px;box-shadow:0 -6px 20px rgba(0,0,0,.25)}
    .sticky-cta .copy{font-size:13px;line-height:1.3}
    .sticky-cta .x{background:transparent;border:none;color:#fff;opacity:.8;font-size:18px;line-height:1;cursor:pointer}
    @media (min-width:681px){.sticky-cta{display:none!important}}
  </style>
</head>
<body>

  <!-- STICKY CTA (mobile) -->
  <div id="stickyCta" class="sticky-cta" role="region" aria-label="Sticky purchase banner">
    <div class="copy"><strong>Ready?</strong> Turn your numbers into a results driven fitness plan.</div>
    <a href="https://badpeachfitness.store/shop/3d377cf8-b293-42ba-91f2-593086a5a741" class="btn btn-cream btn-xs">Get Fit Blueprint + Meal Plan Generator</a>
    <button class="x" aria-label="Close">×</button>
  </div>

  <!-- HERO -->
  <header class="hero">
    <div class="wrap hero-inner grid-2">
      <div>
        <div class="brand-kicker caps">BAD PEACH</div>
        <h1 class="caps"><span class="nowrap-mobile">Calories&nbsp;&amp;&nbsp;Protein</span> Calculator</h1>
        <div class="caps hero-subline">For women in their mid-30's and up</div>
        <p class="lead">Discover the daily calories and protein specific for you.</p>
      </div>
    </div>
  </header>

  <!-- CALCULATOR -->
  <section id="calculator" class="on-blush">
    <div class="wrap">
      <div class="card">
        <h2 class="caps h2-mobile-sm" style="margin-bottom:6px;line-height:1.05">YOUR FIT FOREVER<br>CALCULATOR</h2>

        <p><strong>Step 1: Enter the best email to receive your results.</strong></p>

        <!-- Beacons Embed Form (your snippet) -->
        <div id="beacons-signup-wrapper" style="margin-bottom:20px;">
          <script>
            (function () {
              var s=document.createElement("script");
              var t=Math.floor(new Date().getTime()/120000);
              s.type="module";
              s.async=1;
              s.src=`https://beacons.ai/embeds/emailForm.js?v=${t}&b=badpeachfitness&f=b20d2ccb-0967-43cc-bc9b-d844063e992b`;
              document.body.appendChild(s);
            })();
          </script>
          <div id="b20d2ccb-0967-43cc-bc9b-d844063e992b"></div>
          <div class="note" style="margin-top:8px;">Submit the form above to continue to the calculator.</div>
        </div>

        <!-- Calculator (hidden until email submitted) -->
        <div id="calculator-fields" style="display:none;">
          <p><strong>Step 2: Fill out your details.</strong></p>

          <form id="calcForm" class="form-grid form-2" novalidate>
            <div class="field" data-name="age">
              <label for="age">Age</label>
              <input id="age" type="number" min="14" max="90" placeholder="Years" required>
            </div>

            <div class="field" data-name="height">
              <label>Height</label>
              <div class="inline">
                <input id="heightFt" type="number" min="4" max="7" placeholder="Feet" required>
                <input id="heightIn" type="number" min="0" max="11" placeholder="Inches" required>
              </div>
            </div>

            <div class="field" data-name="weight">
              <label for="weight">Current Weight</label>
              <input id="weight" type="number" min="80" max="400" placeholder="Pounds" required>
            </div>

            <div class="field" data-name="activity">
              <label for="activity">Average Activity Level</label>
              <select id="activity" required>
                <option value="">Select</option>
                <option value="1.2">Sedentary — under 5k steps/day</option>
                <option value="1.375">Lightly Active — 5k–8k steps/day</option>
                <option value="1.55">Moderately Active — 8k–12k steps/day</option>
                <option value="1.725">Very Active — 12k+ steps/day</option>
              </select>
            </div>

            <div class="field" data-name="goal">
              <label for="goal">Fitness Goal</label>
              <select id="goal" required>
                <option value="">Select</option>
                <option value="fatloss">Fat Loss</option>
                <option value="maintain">Maintenance</option>
                <option value="muscle">Muscle Gain</option>
              </select>
            </div>

            <div class="field" data-name="protein">
              <label for="goalWeight">Goal Weight For Protein Calculation</label>
              <input id="goalWeight" type="number" min="90" max="400" placeholder="Goal weight in pounds">
              <label for="intensity" style="margin-top:10px">Rate Your Average Training Intensity</label>
              <select id="intensity" class="placeholder">
                <option value="" selected>Select</option>
                <option value="Light">Light</option>
                <option value="Moderate">Moderate</option>
                <option value="Intense">Intense</option>
              </select>
            </div>

            <div style="grid-column:1/-1;display:flex;gap:12px;flex-wrap:wrap">
              <button type="submit" class="btn btn-dark">Calculate</button>
              <button type="button" id="resetBtn" class="btn btn-cream">Reset</button>
            </div>
          </form>

          <!-- RESULTS -->
          <div id="results" class="results" style="margin-top:22px">
            <h3 class="caps">Your Results</h3>
            <div class="grid form-2" style="margin-top:12px">
              <div class="result-box">
                <div class="caps" style="font-size:12px;opacity:.8">Your TDEE</div>
                <div class="result-number" id="tdeeOut">—</div>
              </div>

              <div class="result-box">
                <div class="caps" style="font-size:12px;opacity:.8">Fat Loss Calories</div>
                <div class="result-number" id="fatlossOut">—</div>
              </div>

              <div class="result-box">
                <div class="caps" style="font-size:12px;opacity:.8">Maintenance Calories</div>
                <div class="result-number" id="maintainOut">—</div>
              </div>

              <div class="result-box">
                <div class="caps" style="font-size:12px;opacity:.8">Muscle Gain Calories</div>
                <div class="result-number" id="muscleOut">—</div>
              </div>

              <div class="result-box" style="grid-column:1/-1">
                <div class="caps" style="font-size:12px;opacity:.8">Daily Protein</div>
                <div class="result-number" id="proteinOut">—</div>
                <div class="note" id="proteinNote"></div>
              </div>
            </div>
          </div>
        </div><!-- end calculator fields -->
      </div>
    </div>
  </section>

  <footer>
    <div class="wrap">
      <div class="small" style="margin-top:12px;color:rgba(25,25,25,.55)">
        © <span id="yr"></span> Bad Peach Fitness. All rights reserved.
      </div>
    </div>
  </footer>

  <script>
    // Auto year
    document.getElementById('yr').textContent = new Date().getFullYear();

    function show(el){el.style.display='block'}
    function hide(el){el.style.display='none'}
    function inRange(val,min,max){return !isNaN(val)&&val>=min&&val<=max}

    // Reveal calculator after Beacons embed submits
    const calcFieldsWrap=document.getElementById('calculator-fields');
    const beaconsWrap=document.getElementById('beacons-signup-wrapper');
    function revealCalculator(){if(beaconsWrap)hide(beaconsWrap);if(calcFieldsWrap)show(calcFieldsWrap);window.scrollTo({top:0,behavior:'smooth'})}
    window.addEventListener('message', (event) => {
      const d=event.data; if(!d) return;
      if (d.type==='BEACONS_FORM_SUBMITTED' || d.event==='formSubmitted' || d.beaconsFormSubmitted===true) {
        revealCalculator();
      }
    });

    // Elements
    const form=document.getElementById('calcForm');
    const resultsEl=document.getElementById('results');
    const tdeeOut=document.getElementById('tdeeOut');
    const fatlossOut=document.getElementById('fatlossOut');
    const maintainOut=document.getElementById('maintainOut');
    const muscleOut=document.getElementById('muscleOut');
    const proteinOut=document.getElementById('proteinOut');
    const proteinNote=document.getElementById('proteinNote');
    const resetBtn=document.getElementById('resetBtn');
    const sticky=document.getElementById('stickyCta');
    const stickyClose=sticky.querySelector('.x');
    const intensitySelect=document.getElementById('intensity');

    function maybeShowSticky(){if(window.matchMedia('(max-width:680px)').matches&&sticky.dataset.closed!=='1'){show(sticky)}}
    stickyClose.addEventListener('click',()=>{sticky.dataset.closed='1';hide(sticky)});

    // Field refs
    const fieldMap={
      age:{el:document.getElementById('age'),min:14,max:90},
      heightFt:{el:document.getElementById('heightFt'),min:4,max:7},
      heightIn:{el:document.getElementById('heightIn'),min:0,max:11},
      weight:{el:document.getElementById('weight'),min:80,max:400},
      activity:{el:document.getElementById('activity')},
      goal:{el:document.getElementById('goal')}
    };

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const age=parseFloat(fieldMap.age.el.value);
      const ft=parseFloat(fieldMap.heightFt.el.value);
      const inch=parseFloat(fieldMap.heightIn.el.value);
      const weightLb=parseFloat(fieldMap.weight.el.value);
      const activity=parseFloat(fieldMap.activity.el.value);
      const goalWeight=parseFloat(document.getElementById('goalWeight').value);
      const intensitySel=(intensitySelect && intensitySelect.value) ? intensitySelect.value : 'Moderate';
      const intensityMap={Light:1.0,Moderate:1.1,Intense:1.2};
      const intensity=intensityMap[intensitySel]||1.1;
      const heightIn=(ft*12)+inch;

      // Harris-Benedict for women
      const bmr=655+(4.35*weightLb)+(4.7*heightIn)-(4.7*age);
      const tdee=bmr*activity;

      const fatloss=tdee*0.85;
      const maintain=tdee;
      const muscle=tdee*1.15;

      // Protein
      let baseWeight=weightLb, sourceLabel='current weight';
      if(!isNaN(goalWeight)&&goalWeight>0){baseWeight=goalWeight;sourceLabel='goal weight'}
      const protein=intensity*baseWeight;

      tdeeOut.textContent=Math.round(tdee).toLocaleString();
      fatlossOut.textContent=Math.round(fatloss).toLocaleString();
      maintainOut.textContent=Math.round(maintain).toLocaleString();
      muscleOut.textContent=Math.round(muscle).toLocaleString();
      proteinOut.textContent=Math.round(protein)+' g';
      proteinNote.textContent=`Based on your ${sourceLabel} × ${intensity.toFixed(1)} (Intensity: ${intensitySel}).`;

      show(resultsEl); maybeShowSticky(); resultsEl.scrollIntoView({behavior:'smooth'});
    });

    resetBtn.addEventListener('click',()=>{
      form.reset();
      hide(resultsEl);
      tdeeOut.textContent=fatlossOut.textContent=maintainOut.textContent=muscleOut.textContent=proteinOut.textContent='—';
      proteinNote.textContent='';
      hide(sticky); sticky.dataset.closed='';
      window.scrollTo({top:0,behavior:'smooth'});
    });
  </script>
</body>
</html>
